
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯¹è±¡æ± æŠ€æœ¯ - Tech Blog</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <style>
        /* Article specific styles */
        .article-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 100px 0 80px;
            position: relative;
            overflow: hidden;
        }

        .article-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="50" r="0.5" fill="white" opacity="0.05"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.1;
        }

        .article-title {
            font-size: 3rem;
            font-weight: 700;
            color: white;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .article-meta {
            display: flex;
            gap: 2rem;
            align-items: center;
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
            position: relative;
            z-index: 1;
        }

        .article-meta span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .article-content {
            padding: 80px 0;
            background: linear-gradient(135deg, #FAFAF9 0%, #F5F5F3 100%);
            min-height: 100vh;
        }

        .article-layout {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 4rem;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .article-body {
            font-size: 1.2rem;
            line-height: 1.9;
            max-width: none;
        }

        .article-sidebar {
            position: sticky;
            top: 120px;
            height: fit-content;
        }

        .article-body h1, .article-body h2, .article-body h3, .article-body h4, .article-body h5, .article-body h6 {
            font-weight: 700;
            margin: 2.5rem 0 1.5rem;
            color: #1a1a1a;
            line-height: 1.3;
        }

        .article-body h1 {
            font-size: 2.8rem;
            color: #0F172A;
            margin: 3rem 0 2rem;
            font-weight: 800;
            position: relative;
            padding-bottom: 1rem;
        }

        .article-body h1::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 80px;
            height: 4px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 2px;
        }

        .article-body h2 {
            font-size: 2.2rem;
            color: #1E293B;
            margin: 2.5rem 0 1.5rem;
            font-weight: 700;
            position: relative;
            padding-left: 1rem;
        }

        .article-body h2::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 2px;
        }

        .article-body h3 {
            font-size: 1.7rem;
            color: #334155;
            margin: 2rem 0 1.2rem;
            font-weight: 600;
        }

        .article-body h4, .article-body h5, .article-body h6 {
            color: #475569;
            margin: 1.5rem 0 1rem;
            font-weight: 600;
        }

        .article-body p {
            margin-bottom: 2rem;
            color: #374151;
            font-size: 1.15rem;
            line-height: 1.8;
            letter-spacing: 0.01em;
            text-align: justify;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .article-body ul, .article-body ol {
            margin: 1.5rem 0 2rem 2.5rem;
            color: #4B5563;
            font-size: 1.1rem;
            line-height: 1.7;
        }

        .article-body li {
            margin-bottom: 0.8rem;
            padding-left: 0.5rem;
            position: relative;
        }

        .article-body li::marker {
            color: #667eea;
            font-weight: bold;
        }

        .article-body blockquote {
            border-left: 5px solid #667eea;
            padding: 2rem 2rem 2rem 2.5rem;
            margin: 2.5rem 0;
            color: #6B7280;
            font-style: italic;
            background: linear-gradient(135deg, #F8FAFC 0%, #F1F5F9 100%);
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            font-size: 1.15rem;
            line-height: 1.7;
            position: relative;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .article-body blockquote::before {
            content: '"';
            position: absolute;
            left: 1.5rem;
            top: 1.5rem;
            font-size: 3rem;
            color: #667eea;
            opacity: 0.2;
            font-family: Georgia, serif;
        }

        .article-body pre {
            background: linear-gradient(135deg, #1E293B 0%, #0F172A 100%);
            border: none;
            border-radius: var(--border-radius);
            padding: 2rem;
            margin: 2.5rem 0;
            overflow-x: auto;
            position: relative;
            font-size: 0.95rem;
            line-height: 1.6;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        .article-body code {
            background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%);
            padding: 0.15rem 0.4rem;
            border-radius: 3px;
            font-size: 0.9em;
            color: #1F2937;
            font-weight: 500;
            border: none;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }

        .article-body pre code {
            background: none;
            padding: 0;
            color: inherit;
        }

        .article-body img {
            max-width: 100%;
            height: auto;
            border-radius: var(--border-radius);
            margin: 1.5rem 0;
        }

        .article-body a {
            color: #667eea;
            text-decoration: none;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .article-body a:hover {
            border-bottom-color: #667eea;
            color: #5A67D8;
        }

        .toc {
            background: linear-gradient(135deg, #FFFFFF 0%, #F8FAFC 100%);
            border: 1px solid #E2E8F0;
            border-radius: var(--border-radius);
            padding: 2rem;
            margin: 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .toc h3 {
            margin: 0 0 1.5rem 0;
            color: #1E293B;
            font-size: 1.3rem;
            font-weight: 700;
            text-align: center;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid #667eea;
        }

        .toc ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .toc li {
            margin-bottom: 0.3rem;
        }

        .toc a {
            color: #475569;
            text-decoration: none;
            transition: all 0.3s ease;
            display: block;
            padding: 0.6rem 1rem;
            font-size: 0.95rem;
            line-height: 1.5;
            border-radius: 8px;
            border-left: 3px solid transparent;
            font-weight: 500;
        }

        .toc a:hover {
            color: #667eea;
            background: linear-gradient(135deg, #F8FAFC 0%, #F1F5F9 100%);
            transform: translateX(5px);
            border-left-color: #667eea;
        }

        .toc a.active {
            color: #667eea;
            font-weight: 700;
            background: linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 100%);
            border-left-color: #667eea;
            padding-left: 1.5rem;
        }

        @media (max-width: 768px) {
            .article-title {
                font-size: 2.2rem;
            }

            .article-meta {
                flex-direction: column;
                gap: 0.8rem;
                align-items: flex-start;
            }

            .article-body {
                font-size: 1.05rem;
            }

            .article-body p {
                font-size: 1.05rem;
                line-height: 1.6;
            }

            .article-body h1 {
                font-size: 2.2rem;
            }

            .article-body h2 {
                font-size: 1.8rem;
            }

            .article-body h3 {
                font-size: 1.4rem;
            }

            .article-layout {
                grid-template-columns: 1fr;
                gap: 2rem;
                padding: 0 1rem;
            }

            .article-sidebar {
                position: static;
                order: -1;
            }

            .toc {
                margin: 1rem 0;
                padding: 1.5rem;
            }

            .toc h3 {
                font-size: 1.1rem;
            }

            .toc a {
                font-size: 0.9rem;
                padding: 0.4rem 0.6rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="nav-container">
                <a href="../index.html" class="logo">
                    <span class="logo-icon">â—ˆ</span>
                    <span class="logo-text">Tech Blog</span>
                </a>
                <ul class="nav-menu">
                    <li class="nav-item"><a href="../index.html" class="nav-link">é¦–é¡µ</a></li>
                    <li class="nav-item"><a href="../index.html#articles" class="nav-link">æ–‡ç« </a></li>
                    <li class="nav-item"><a href="../index.html#about" class="nav-link">å…³äº</a></li>
                    <li class="nav-item"><a href="../index.html#contact" class="nav-link">è”ç³»</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <article>
        <div class="article-header">
            <div class="container">
                  <h1 class="article-title">å¯¹è±¡æ± æŠ€æœ¯</h1>
                <div class="article-meta">
                    <span>ğŸ“… 2025-09-28</span>
                    <span>ğŸ·ï¸ Unityå¼€å‘-æ ¸å¿ƒç³»ç»Ÿ</span>
                    <span>â±ï¸ é˜…è¯»æ—¶é—´ï¼š2åˆ†é’Ÿ</span>
                    <span>ğŸ‘¤ Kingishu</span>
                </div>
            </div>
        </div>

        <div class="article-content">
            <div class="container">
                <div class="article-layout">
                    <div class="article-body">
                        <h1 id="heading-unityæ ¸å¿ƒæŠ€æœ¯é¢è¯•æ–‡æ¡£å¯¹è±¡æ± -object-pool">Unityæ ¸å¿ƒæŠ€æœ¯é¢è¯•æ–‡æ¡£ï¼šå¯¹è±¡æ±  (Object Pool)</h1>
<h2 id="heading-1-è®²æœ¬è´¨å®ƒæ˜¯ä»€ä¹ˆä¸ºä»€ä¹ˆéœ€è¦å®ƒ">1. è®²æœ¬è´¨ï¼šå®ƒæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</h2>
<h3 id="heading-ç”¨é€”ä¸åŸç†">ç”¨é€”ä¸åŸç†</h3>
<p>å¯¹è±¡æ± ï¼ˆObject Poolï¼‰æ˜¯ä¸€ç§ <strong>å¤ç”¨å¯¹è±¡</strong> çš„è®¾è®¡æ¨¡å¼ï¼Œæ ¸å¿ƒç›®çš„æ˜¯ <strong>ä¼˜åŒ–æ€§èƒ½å’Œå†…å­˜ç®¡ç†</strong>ã€‚</p>
<p>åœ¨æ¸¸æˆä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯åŒä¸€ç±»å‹çš„å¯¹è±¡ï¼Œæ¯”å¦‚å­å¼¹ã€æ•Œäººã€ç‰¹æ•ˆç­‰ã€‚å¸¸è§„çš„åšæ³•æ˜¯éœ€è¦æ—¶è°ƒç”¨ <code>Instantiate()</code> åˆ›å»ºï¼Œä¸éœ€è¦æ—¶è°ƒç”¨ <code>Destroy()</code> é”€æ¯ã€‚</p>
<ul>
<li><strong><code>Instantiate()</code></strong>: è¿™ä¸ªè¿‡ç¨‹ç›¸å¯¹è€—æ—¶ï¼Œå› ä¸ºå®ƒéœ€è¦å‘ç³»ç»Ÿç”³è¯·å†…å­˜ã€åˆ›å»ºGameObjectã€æ·»åŠ ç»„ä»¶ã€åˆå§‹åŒ–ç­‰ã€‚å¦‚æœåœ¨åŒä¸€å¸§å†…å¤§é‡æ‰§è¡Œï¼Œä¼šé€ æˆæ˜æ˜¾çš„CPUå³°å€¼ï¼Œå¯¼è‡´æ¸¸æˆå¡é¡¿ã€‚</li>
<li><strong><code>Destroy()</code></strong>: è¿™ä¸ªæ“ä½œä¸ä¼šç«‹å³é‡Šæ”¾å†…å­˜ï¼Œè€Œæ˜¯å°†å¯¹è±¡æ ‡è®°ä¸ºâ€œå¾…å›æ”¶â€ã€‚å½“å†…å­˜ä¸è¶³æ—¶ï¼Œåƒåœ¾å›æ”¶å™¨ï¼ˆGarbage Collector, GCï¼‰ä¼šå¯åŠ¨ï¼Œæ‰«ææ‰€æœ‰å†…å­˜æ‰¾å‡ºè¿™äº›æ— ç”¨çš„å¯¹è±¡å¹¶é‡Šæ”¾å®ƒä»¬ã€‚GCçš„æ‰§è¡Œä¼šæš‚åœä¸»çº¿ç¨‹ï¼ŒåŒæ ·ä¼šå¯¼è‡´æ¸¸æˆå¡é¡¿ã€‚</li>
</ul>
<p><strong>å¯¹è±¡æ± çš„åŸç†</strong> å°±æ˜¯ï¼šåœ¨æ¸¸æˆå¼€å§‹æˆ–æŸä¸ªåˆé€‚çš„æ—¶æœºï¼Œ<strong>é¢„å…ˆåˆ›å»ºä¸€æ‰¹å¯¹è±¡</strong> å¹¶å°†å®ƒä»¬ç½®äºâ€œéæ¿€æ´»â€çŠ¶æ€å­˜æ”¾èµ·æ¥ï¼ˆæ± åŒ–ï¼‰ã€‚å½“ä½ éœ€è¦ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¸æ˜¯å»åˆ›å»ºæ–°çš„ï¼Œè€Œæ˜¯ä»æ± ä¸­â€œå€Ÿâ€ä¸€ä¸ªå¹¶æ¿€æ´»å®ƒã€‚å½“ä½ ç”¨å®Œè¿™ä¸ªå¯¹è±¡åï¼Œä¸æ˜¯é”€_destroy_å®ƒï¼Œè€Œæ˜¯å°†å®ƒâ€œå½’è¿˜â€åˆ°æ± ä¸­å¹¶è®¾ä¸ºéæ¿€æ´»ï¼Œä»¥å¤‡ä¸‹æ¬¡ä½¿ç”¨ã€‚</p>
<h3 id="heading-ä¼˜ç¼ºç‚¹">ä¼˜ç¼ºç‚¹</h3>
<ul>
<li><p><strong>ä¼˜ç‚¹</strong>:</p>
<ol>
<li><strong>æ€§èƒ½æå‡</strong>: é¿å…äº† <code>Instantiate()</code> çš„è¿è¡Œæ—¶å¼€é”€ã€‚</li>
<li><strong>é¿å…GC</strong>: é¿å…äº† <code>Destroy()</code> å¸¦æ¥çš„åƒåœ¾å›æ”¶ï¼Œå‡å°‘äº†GCå¼•å‘çš„å¡é¡¿ï¼Œè®©æ¸¸æˆè¿è¡Œæ›´å¹³æ»‘ã€‚</li>
<li><strong>å“åº”è¿…é€Ÿ</strong>: è·å–å’Œå½’è¿˜å¯¹è±¡é€šå¸¸æ¯”åˆ›å»ºå’Œé”€æ¯å¿«å¾—å¤šã€‚</li>
</ol>
</li>
<li><p><strong>ç¼ºç‚¹</strong>:</p>
<ol>
<li><strong>å†…å­˜å ç”¨</strong>: é¢„å…ˆåˆ›å»ºå¯¹è±¡ä¼šå ç”¨æ›´å¤šå¯åŠ¨å†…å­˜ã€‚å¦‚æœæ± çš„å¤§å°è®¾ç½®ä¸å½“ï¼Œå¯èƒ½ä¼šæµªè´¹å†…å­˜ã€‚</li>
<li><strong>ç®¡ç†å¤æ‚æ€§</strong>: éœ€è¦ç¼–å†™é¢å¤–çš„ä»£ç æ¥ç®¡ç†æ± çš„é€»è¾‘ï¼Œä¾‹å¦‚å¯¹è±¡çš„è·å–ã€å½’è¿˜ã€é‡ç½®çŠ¶æ€ç­‰ã€‚</li>
</ol>
</li>
</ul>
<h2 id="heading-2-é‡é¢è¯•é¢è¯•å®˜æƒ³å¬åˆ°ä»€ä¹ˆ">2. é‡é¢è¯•ï¼šé¢è¯•å®˜æƒ³å¬åˆ°ä»€ä¹ˆï¼Ÿ</h2>
<p>é¢è¯•å®˜é—®å¯¹è±¡æ± ï¼Œä¸»è¦æƒ³è€ƒå¯Ÿä½ å¯¹ <strong>Unityæ€§èƒ½ä¼˜åŒ–</strong> çš„ç†è§£ï¼Œç‰¹åˆ«æ˜¯å¯¹ <strong>å†…å­˜ç®¡ç†å’ŒGC</strong> çš„è®¤è¯†ã€‚</p>
<h3 id="heading-è€ƒç‚¹ä¸å…³æ³¨ç‚¹">è€ƒç‚¹ä¸å…³æ³¨ç‚¹</h3>
<ol>
<li><p><strong>ä¸ºä»€ä¹ˆç”¨å¯¹è±¡æ± ï¼Ÿ(Why)</strong></p>
<ul>
<li><strong>æ ¸å¿ƒç­”æ¡ˆ</strong>: ä¸ºäº†é¿å… <code>Instantiate()</code> å’Œ <code>Destroy()</code> å¸¦æ¥çš„CPUå¼€é”€å’ŒGCã€‚è¿™æ˜¯æœ€é‡è¦çš„ç‚¹ã€‚ä½ è¦èƒ½æ¸…æ™°åœ°è®²å‡ºè¿™ä¸¤è€…å¦‚ä½•å¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</li>
</ul>
</li>
<li><p><strong>ä»€ä¹ˆæ—¶å€™ç”¨å¯¹è±¡æ± ï¼Ÿ(When)</strong></p>
<ul>
<li><strong>æ ¸å¿ƒç­”æ¡ˆ</strong>: ç”¨äº <strong>ç”Ÿå‘½å‘¨æœŸçŸ­ã€éœ€è¦è¢«é¢‘ç¹åˆ›å»ºå’Œé”€æ¯</strong> çš„å¯¹è±¡ã€‚</li>
<li><strong>å…·ä½“ä¾‹å­</strong>: å­å¼¹ã€é‡å¤å‡ºç°çš„æ•Œäººã€UIå…ƒç´ ï¼ˆå¦‚ä¸‹æ‹‰åˆ—è¡¨çš„æ¡ç›®ï¼‰ã€ç²’å­ç‰¹æ•ˆç­‰ã€‚</li>
</ul>
</li>
<li><p><strong>å¦‚ä½•å®ç°ä¸€ä¸ªå¯¹è±¡æ± ï¼Ÿ(How)</strong></p>
<ul>
<li>ä½ éœ€è¦èƒ½æè¿°å‡ºåŸºæœ¬ç»“æ„ï¼šä¸€ä¸ªå®¹å™¨ï¼ˆé€šå¸¸æ˜¯ <code>Queue</code> æˆ– <code>Stack</code>ï¼Œå› ä¸ºå®ƒä»¬çš„ <code>Enqueue/Dequeue</code> æˆ– <code>Push/Pop</code> æ“ä½œæ•ˆç‡æ˜¯O(1)ï¼‰ã€ä¸€ä¸ªè·å–ï¼ˆ<code>Get</code>ï¼‰æ–¹æ³•å’Œä¸€ä¸ªå½’è¿˜ï¼ˆ<code>Return</code>ï¼‰æ–¹æ³•ã€‚</li>
<li><strong>è¿›é˜¶è€ƒç‚¹</strong>:<ul>
<li><strong>æ± å®¹é‡é—®é¢˜</strong>: å¦‚æœæ± ç©ºäº†æ€ä¹ˆåŠï¼Ÿæ˜¯åŠ¨æ€æ‰©å®¹ï¼ˆå†<code>Instantiate</code>ä¸€ä¸ªæ–°çš„ï¼‰è¿˜æ˜¯è¿”å›<code>null</code>ï¼Ÿè¿™å–å†³äºè®¾è®¡éœ€æ±‚ï¼Œèƒ½è¯´å‡ºè¿™ä¸ªæƒè¡¡ç‚¹ä¼šåŠ åˆ†ã€‚</li>
<li><strong>å¯¹è±¡çŠ¶æ€é‡ç½®</strong>: å½’è¿˜å¯¹è±¡æ—¶ï¼Œä¸€å®šè¦è®°å¾—é‡ç½®å®ƒçš„çŠ¶æ€ï¼ˆå¦‚ä½ç½®ã€é€Ÿåº¦ã€ç”Ÿå‘½å€¼ç­‰ï¼‰ï¼Œå¦åˆ™ä¸‹æ¬¡å–å‡ºæ¥æ—¶ä¼šå¸¦æœ‰â€œè„æ•°æ®â€ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>C#ä¸Unityçš„å·®å¼‚</strong></p>
<ul>
<li>å¯¹è±¡æ± è¿™ä¸ª <strong>è®¾è®¡æ¨¡å¼æœ¬èº«</strong> æ˜¯é€šç”¨çš„ï¼Œåœ¨ä»»ä½•C#ç¨‹åºé‡Œéƒ½å¯ä»¥ç”¨ã€‚</li>
<li>ä½†åœ¨ <strong>Unityç¯å¢ƒä¸‹</strong>ï¼Œå®ƒçš„ä»·å€¼è¢«æå¤§åœ°æ”¾å¤§äº†ã€‚å› ä¸º<code>Instantiate</code>å’Œ<code>Destroy</code>æ“ä½œçš„æ˜¯<code>GameObject</code>ï¼Œè¿™ä¸ä»…ä»…æ˜¯C#å±‚é¢çš„å†…å­˜åˆ†é…ï¼Œè¿˜æ¶‰åŠåˆ°C++å¼•æ“åº•å±‚çš„å¤æ‚æ“ä½œã€‚æ‰€ä»¥ï¼Œåœ¨Unityä¸­é¿å…è¿™ä¸¤ä¸ªAPIå¯¹æ€§èƒ½çš„æå‡å°¤ä¸ºæ˜¾è‘—ã€‚</li>
</ul>
</li>
</ol>
<h3 id="heading-æˆ‘é¢è¯•åº”è¯¥æ€ä¹ˆå›ç­”">æˆ‘é¢è¯•åº”è¯¥æ€ä¹ˆå›ç­”ï¼Ÿ</h3>
<blockquote>
<p>â€œé¢è¯•å®˜æ‚¨å¥½ï¼Œå…³äºå¯¹è±¡æ± ï¼Œæˆ‘çš„ç†è§£æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li><strong>é¦–å…ˆï¼Œå®ƒæ˜¯ä¸€ç§æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µ</strong>ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯å¤ç”¨å¯¹è±¡ï¼Œè€Œä¸æ˜¯é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯ã€‚</li>
<li><strong>ä¹‹æ‰€ä»¥éœ€è¦å®ƒ</strong>ï¼Œæ˜¯å› ä¸ºåœ¨Unityä¸­ï¼Œ<code>Instantiate</code>æ“ä½œä¼šå¸¦æ¥CPUå¼€é”€ï¼Œè€Œ<code>Destroy</code>æ“ä½œä¼šäº§ç”ŸC#åƒåœ¾ï¼Œå½“åƒåœ¾ç§¯ç´¯åˆ°ä¸€å®šç¨‹åº¦æ—¶ä¼šè§¦å‘GCï¼ˆåƒåœ¾å›æ”¶ï¼‰ï¼ŒGCä¼šæš‚åœä¸»çº¿ç¨‹ï¼Œå¯¼è‡´æ¸¸æˆå¡é¡¿ã€‚å¯¹è±¡æ± é€šè¿‡å¤ç”¨ï¼Œä»æ ¹æœ¬ä¸Šé¿å…äº†è¿™ä¸¤ä¸ªé—®é¢˜ã€‚</li>
<li><strong>å®ƒæœ€é€‚åˆç”¨åœ¨</strong> åƒå­å¼¹ã€ç‰¹æ•ˆã€ç®€å•æ•Œäººè¿™ç±»ç”Ÿå‘½å‘¨æœŸçŸ­ä¸”ä¼šè¢«å¤§é‡é‡å¤ä½¿ç”¨çš„å¯¹è±¡ä¸Šã€‚</li>
<li><strong>å®ç°ä¸Š</strong>ï¼Œé€šå¸¸æˆ‘ä¼šç”¨ä¸€ä¸ªé˜Ÿåˆ—ï¼ˆQueueï¼‰æ¥å­˜æ”¾éæ¿€æ´»çš„å¯¹è±¡ã€‚æä¾›ä¸€ä¸ª<code>Get</code>æ–¹æ³•æ¥ä»é˜Ÿåˆ—ä¸­å–å¯¹è±¡å¹¶æ¿€æ´»å®ƒï¼Œå¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œå¯ä»¥æ ¹æ®ç­–ç•¥é€‰æ‹©å®ä¾‹åŒ–ä¸€ä¸ªæ–°çš„ã€‚å†æä¾›ä¸€ä¸ª<code>Return</code>æ–¹æ³•ï¼Œå½“å¯¹è±¡ç”¨å®Œåï¼Œå°†å®ƒå¤±æ´»å¹¶æ”¾å›é˜Ÿåˆ—ä¸­ã€‚æœ€å…³é”®çš„ä¸€æ­¥æ˜¯ï¼Œåœ¨å½’è¿˜å¯¹è±¡æ—¶ä¸€å®šè¦é‡ç½®å®ƒçš„çŠ¶æ€ï¼Œæ¯”å¦‚ä½ç½®ã€è¡€é‡ç­‰ï¼Œé¿å…ä¸‹æ¬¡ä½¿ç”¨æ—¶æ•°æ®é”™ä¹±ã€‚â€</li>
</ol>
</blockquote>
<h2 id="heading-3-ç»™ä¾‹å­talk-is-cheap-show-me-the-code">3. ç»™ä¾‹å­ï¼šTalk is cheap, show me the code.</h2>
<p>è¿™æ˜¯ä¸€ä¸ªæç®€çš„å¯¹è±¡æ± å®ç°ï¼Œè¶³ä»¥åœ¨é¢è¯•ä¸­æ¸…æ™°åœ°è¯´æ˜ä½ çš„æ€è·¯ã€‚</p>
<pre><code class="language-csharp">using System.Collections.Generic;
using UnityEngine;

public class SimpleObjectPool : MonoBehaviour
{
    // è¦æ± åŒ–çš„é¢„åˆ¶ä½“
    public GameObject prefabToPool;
    // æ± çš„åˆå§‹å¤§å°
    public int initialPoolSize = 10;

    // ç”¨é˜Ÿåˆ—æ¥å­˜å‚¨æ± ä¸­çš„å¯¹è±¡ï¼Œå…ˆè¿›å…ˆå‡ºï¼Œç¬¦åˆâ€œå–ç”¨-å½’è¿˜â€çš„é€»è¾‘
    private Queue&lt;GameObject&gt; objectPool = new Queue&lt;GameObject&gt;();

    void Start()
    {
        // 1. æ¸¸æˆå¼€å§‹æ—¶ï¼Œé¢„å…ˆå¡«å……æ± 
        for (int i = 0; i &lt; initialPoolSize; i++)
        {
            GameObject obj = Instantiate(prefabToPool);
            obj.SetActive(false); // è®¾ä¸ºéæ¿€æ´»
            objectPool.Enqueue(obj); // å…¥é˜Ÿ
        }
    }

    // 2. ä»æ± ä¸­è·å–å¯¹è±¡çš„æ–¹æ³•
    public GameObject GetObjectFromPool()
    {
        // å¦‚æœæ± ä¸­æœ‰å¯¹è±¡
        if (objectPool.Count &gt; 0)
        {
            GameObject obj = objectPool.Dequeue(); // å‡ºé˜Ÿ
            obj.SetActive(true); // æ¿€æ´»å®ƒ
            return obj;
        }
        // å¦‚æœæ± æ˜¯ç©ºçš„ï¼Œï¼ˆå¯é€‰ç­–ç•¥ï¼‰åŠ¨æ€åˆ›å»ºä¸€ä¸ªæ–°çš„
        else
        {
            Debug.LogWarning(&quot;Pool is empty. Instantiating a new object.&quot;);
            GameObject obj = Instantiate(prefabToPool);
            return obj;
        }
    }

    // 3. å°†å¯¹è±¡å½’è¿˜åˆ°æ± ä¸­çš„æ–¹æ³•
    public void ReturnObjectToPool(GameObject obj)
    {
        // å…³é”®ï¼šåœ¨å½’è¿˜å‰ï¼Œå¯ä»¥é‡ç½®å¯¹è±¡çŠ¶æ€
        // æ¯”å¦‚ï¼š
        // obj.transform.position = Vector3.zero;
        // obj.GetComponent&lt;Rigidbody&gt;().velocity = Vector3.zero;
        
        obj.SetActive(false); // è®¾ä¸ºéæ¿€æ´»
        objectPool.Enqueue(obj); // é‡æ–°å…¥é˜Ÿ
    }
}

// --- å¦‚ä½•ä½¿ç”¨ ---
public class Spawner : MonoBehaviour
{
    public SimpleObjectPool bulletPool;

    void Update()
    {
        if (Input.GetKeyDown(KeyCode.Space))
        {
            // ä»æ± ä¸­è·å–ä¸€ä¸ªå­å¼¹
            GameObject bullet = bulletPool.GetObjectFromPool();
            bullet.transform.position = this.transform.position;
            
            // ... å‘å°„å­å¼¹çš„é€»è¾‘ ...

            // å‡è®¾å­å¼¹1ç§’åæ¶ˆå¤±ï¼Œæˆ‘ä»¬ç”¨åç¨‹æ¥æ¨¡æ‹Ÿå½’è¿˜
            StartCoroutine(ReturnBulletAfterTime(bullet, 1.0f));
        }
    }

    private System.Collections.IEnumerator ReturnBulletAfterTime(GameObject bullet, float delay)
    {
        yield return new WaitForSeconds(delay);
        bulletPool.ReturnObjectToPool(bullet);
    }
}
</code></pre>

                    </div>

                    
                    <div class="article-sidebar">
                        <div class="toc">
                            <h3>ç›®å½•</h3>
                            <ul><li><a href="#heading-1-è®²æœ¬è´¨å®ƒæ˜¯ä»€ä¹ˆä¸ºä»€ä¹ˆéœ€è¦å®ƒ">1. è®²æœ¬è´¨ï¼šå®ƒæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</a></li>
    <li><a href="#heading-ç”¨é€”ä¸åŸç†">ç”¨é€”ä¸åŸç†</a></li>
    <li><a href="#heading-ä¼˜ç¼ºç‚¹">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#heading-2-é‡é¢è¯•é¢è¯•å®˜æƒ³å¬åˆ°ä»€ä¹ˆ">2. é‡é¢è¯•ï¼šé¢è¯•å®˜æƒ³å¬åˆ°ä»€ä¹ˆï¼Ÿ</a></li>
    <li><a href="#heading-è€ƒç‚¹ä¸å…³æ³¨ç‚¹">è€ƒç‚¹ä¸å…³æ³¨ç‚¹</a></li>
    <li><a href="#heading-æˆ‘é¢è¯•åº”è¯¥æ€ä¹ˆå›ç­”">æˆ‘é¢è¯•åº”è¯¥æ€ä¹ˆå›ç­”ï¼Ÿ</a></li>
<li><a href="#heading-3-ç»™ä¾‹å­talk-is-cheap-show-me-the-code">3. ç»™ä¾‹å­ï¼šTalk is cheap, show me the code.</a></li></ul>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </article>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Tech Blog</h3>
                    <p>åˆ†äº«æŠ€æœ¯ï¼Œä¼ æ’­çŸ¥è¯†</p>
                </div>
                <div class="footer-section">
                    <h4>å¿«é€Ÿé“¾æ¥</h4>
                    <ul class="footer-links">
                        <li><a href="../index.html">é¦–é¡µ</a></li>
                        <li><a href="../index.html#articles">æ–‡ç« </a></li>
                        <li><a href="../index.html#about">å…³äº</a></li>
                        <li><a href="../index.html#contact">è”ç³»</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>æŠ€æœ¯æ ˆ</h4>
                    <ul class="footer-links">
                        <li><a href="#">JavaScript</a></li>
                        <li><a href="#">React</a></li>
                        <li><a href="#">Node.js</a></li>
                        <li><a href="#">TypeScript</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Tech Blog. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-csharp.min.js"></script>
    <script src="../script.js"></script>

    <script>
        // ç›®å½•é«˜äº®å’Œæ»šåŠ¨æ•ˆæœ
        document.addEventListener('DOMContentLoaded', function() {
            const tocLinks = document.querySelectorAll('.toc a');
            const sections = [];

            // æ”¶é›†æ‰€æœ‰ç« èŠ‚
            tocLinks.forEach(link => {
                const targetId = link.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    sections.push({
                        id: targetId,
                        element: targetSection,
                        link: link
                    });
                }
            });

            // æ»šåŠ¨æ—¶é«˜äº®å½“å‰ç« èŠ‚
            function highlightActiveSection() {
                const scrollPosition = window.scrollY + 150;

                sections.forEach(section => {
                    const sectionTop = section.element.offsetTop;
                    const sectionBottom = sectionTop + section.element.offsetHeight;

                    if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                        tocLinks.forEach(link => link.classList.remove('active'));
                        section.link.classList.add('active');
                    }
                });
            }

            // å¹³æ»‘æ»šåŠ¨åˆ°ç« èŠ‚
            tocLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetSection = document.getElementById(targetId);

                    if (targetSection) {
                        const offsetTop = targetSection.offsetTop - 100;
                        window.scrollTo({
                            top: offsetTop,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // ç›‘å¬æ»šåŠ¨äº‹ä»¶
            if (sections.length > 0) {
                window.addEventListener('scroll', highlightActiveSection);
                highlightActiveSection();
            }
        });
    </script>
</body>
</html>
        