<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unityç‰©ç†å¼•æ“æ·±åº¦è§£æ - Tech Blog</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-csharp.min.js"></script>
    <style>
        .article-header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 100px 0 80px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .article-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .article-header-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .article-header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .article-meta {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .article-content-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 60px 20px;
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 60px;
        }

        .article-main {
            min-width: 0;
        }

        .article-sidebar {
            position: sticky;
            top: 20px;
            height: fit-content;
        }

        .toc-container {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .toc-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
        }

        .toc-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .toc-list li {
            margin-bottom: 8px;
        }

        .toc-list a {
            color: #666;
            text-decoration: none;
            padding: 5px 0;
            display: block;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            padding-left: 10px;
        }

        .toc-list a:hover {
            color: #f093fb;
            border-left-color: #f093fb;
            padding-left: 15px;
        }

        .article-section {
            margin-bottom: 50px;
            scroll-margin-top: 100px;
        }

        .article-section h2 {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
            border-bottom: 3px solid #f093fb;
            padding-bottom: 10px;
        }

        .article-section h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 30px 0 15px;
            color: #444;
        }

        .article-section p {
            line-height: 1.8;
            margin-bottom: 15px;
            color: #555;
        }

        .article-section ul, .article-section ol {
            margin: 15px 0;
            padding-left: 20px;
        }

        .article-section li {
            margin-bottom: 8px;
            line-height: 1.6;
            color: #555;
        }

        .article-section pre {
            background: #2d2d2d;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            border: 1px solid #444;
        }

        .article-section code {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .highlight-box {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-left: 4px solid #f093fb;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .highlight-box h4 {
            color: #f093fb;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .article-content-container {
                grid-template-columns: 1fr;
                gap: 40px;
                padding: 40px 15px;
            }

            .article-header h1 {
                font-size: 2.2rem;
            }

            .article-meta {
                gap: 15px;
                font-size: 1rem;
            }

            .article-sidebar {
                position: static;
            }

            .toc-container {
                order: -1;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="nav-container">
                <a href="../index.html" class="logo">
                    <span class="logo-icon">â—ˆ</span>
                    <span class="logo-text">Tech Blog</span>
                </a>
                <ul class="nav-menu">
                    <li class="nav-item"><a href="../index.html#home" class="nav-link">é¦–é¡µ</a></li>
                    <li class="nav-item"><a href="../index.html#works" class="nav-link">ä½œå“</a></li>
                    <li class="nav-item"><a href="../index.html#articles" class="nav-link">æ–‡ç« </a></li>
                    <li class="nav-item"><a href="../index.html#about" class="nav-link">å…³äº</a></li>
                    <li class="nav-item"><a href="../index.html#contact" class="nav-link">è”ç³»</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <header class="article-header">
        <div class="article-header-content">
            <h1>Unityç‰©ç†å¼•æ“æ·±åº¦è§£æ</h1>
            <div class="article-meta">
                <span class="article-date">ğŸ“… 2024-09-27</span>
                <span class="article-category">ğŸ·ï¸ Unityå¼€å‘</span>
                <span class="article-reading-time">â±ï¸ é˜…è¯»æ—¶é—´: 25åˆ†é’Ÿ</span>
            </div>
        </div>
    </header>

    <main class="article-content-container">
        <div class="article-main">
            <article class="article-content">
                <section id="introduction" class="article-section">
                    <h2>å¼•è¨€</h2>
                    <p>Unityç‰©ç†å¼•æ“æ˜¯æ¸¸æˆå¼€å‘çš„æ ¸å¿ƒç³»ç»Ÿä¹‹ä¸€ï¼Œå®ƒåŸºäºNVIDIA PhysXæŠ€æœ¯ï¼Œä¸ºæ¸¸æˆæä¾›äº†çœŸå®çš„ç‰©ç†æ¨¡æ‹Ÿã€‚ä»ç®€å•çš„é‡åŠ›å½±å“åˆ°å¤æ‚çš„è½¦è¾†åŠ¨åŠ›å­¦ï¼Œç‰©ç†å¼•æ“è®©æ¸¸æˆä¸–ç•Œæ›´åŠ ç”ŸåŠ¨å’ŒçœŸå®ã€‚</p>
                    <p>æœ¬æ–‡å°†æ·±å…¥æ¢è®¨Unityç‰©ç†å¼•æ“çš„åŸç†ã€ç»„ä»¶ç³»ç»Ÿã€æ€§èƒ½ä¼˜åŒ–ä»¥åŠå®é™…åº”ç”¨ï¼Œå¸®åŠ©å¼€å‘è€…æŒæ¡è¿™ä¸€å¼ºå¤§çš„æŠ€æœ¯ã€‚</p>
                </section>

                <section id="physics-basics" class="article-section">
                    <h2>ç‰©ç†å¼•æ“åŸºç¡€</h2>
                    <h3>ç‰©ç†ç³»ç»Ÿæ¶æ„</h3>
                    <p>Unityç‰©ç†ç³»ç»ŸåŒ…å«ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š</p>
                    <ul>
                        <li><strong>Rigidbody</strong>ï¼šåˆšä½“ç»„ä»¶ï¼Œèµ‹äºˆç‰©ä½“ç‰©ç†å±æ€§</li>
                        <li><strong>Collider</strong>ï¼šç¢°æ’ä½“ï¼Œå®šä¹‰ç‰©ä½“çš„ç‰©ç†å½¢çŠ¶</li>
                        <li><strong>Physics Material</strong>ï¼šç‰©ç†æè´¨ï¼Œæ§åˆ¶æ‘©æ“¦åŠ›å’Œå¼¹æ€§</li>
                        <li><strong>Fixed Joint</strong>ï¼šå›ºå®šå…³èŠ‚ï¼Œè¿æ¥ç‰©ä½“</li>
                        <li><strong>Force</strong>ï¼šåŠ›ç³»ç»Ÿï¼Œå½±å“ç‰©ä½“è¿åŠ¨</li>
                    </ul>

                    <h3>ç‰©ç†æ›´æ–°å¾ªç¯</h3>
                    <pre><code class="language-csharp">using UnityEngine;

public class PhysicsUpdate : MonoBehaviour
{
    private void FixedUpdate()
    {
        // ç‰©ç†è®¡ç®—åœ¨FixedUpdateä¸­è¿›è¡Œ
        // æ¯ç§’å›ºå®šæ¬¡æ•°è°ƒç”¨ï¼ˆé»˜è®¤50æ¬¡ï¼‰
        Debug.Log("ç‰©ç†æ›´æ–°");
    }

    private void Update()
    {
        // æ™®é€šæ›´æ–°ï¼Œæ¯å¸§è°ƒç”¨
        // ä¸é€‚åˆç‰©ç†è®¡ç®—
    }

    private void LateUpdate()
    {
        // åœ¨æ‰€æœ‰Updateä¹‹åè°ƒç”¨
        // é€‚åˆç›¸æœºè·Ÿéšç­‰æ“ä½œ
    }
}</code></pre>
                </section>

                <section id="rigidbody" class="article-section">
                    <h2>åˆšä½“ï¼ˆRigidbodyï¼‰è¯¦è§£</h2>
                    <h3>åˆšä½“åŸºç¡€å±æ€§</h3>
                    <pre><code class="language-csharp">public class RigidbodyController : MonoBehaviour
{
    private Rigidbody rb;

    private void Start()
    {
        rb = GetComponent&lt;Rigidbody&gt;();

        // è®¾ç½®åˆšä½“å±æ€§
        rb.mass = 1f;                    // è´¨é‡
        rb.drag = 0f;                    // é˜»åŠ›
        rb.angularDrag = 0.05f;          // è§’é˜»åŠ›
        rb.useGravity = true;            // ä½¿ç”¨é‡åŠ›
        rb.isKinematic = false;          // æ˜¯å¦å—ç‰©ç†å½±å“
        rb.interpolation = RigidbodyInterpolation.Interpolate;  // æ’å€¼
        rb.collisionDetectionMode = CollisionDetectionMode.ContinuousDynamic;  // ç¢°æ’æ£€æµ‹æ¨¡å¼
    }

    private void Update()
    {
        // é€šè¿‡ä»£ç æ§åˆ¶åˆšä½“
        if (Input.GetKey(KeyCode.W))
        {
            rb.AddForce(transform.forward * 10f, ForceMode.Force);
        }

        if (Input.GetKey(KeyCode.S))
        {
            rb.AddForce(-transform.forward * 10f, ForceMode.Force);
        }

        if (Input.GetKey(KeyCode.A))
        {
            rb.AddTorque(transform.up * 5f, ForceMode.Force);
        }

        if (Input.GetKey(KeyCode.D))
        {
            rb.AddTorque(-transform.up * 5f, ForceMode.Force);
        }
    }

    // ç‰©ç†ç›¸å…³æ–¹æ³•
    private void FixedUpdate()
    {
        // åœ¨FixedUpdateä¸­ä¿®æ”¹ç‰©ç†å±æ€§
        if (Input.GetKey(KeyCode.Space))
        {
            rb.AddForce(Vector3.up * 300f, ForceMode.Impulse);
        }
    }
}</code></pre>

                    <h3>åŠ›çš„ç±»å‹å’Œåº”ç”¨</h3>
                    <pre><code class="language-csharp">public class ForceSystem : MonoBehaviour
{
    private Rigidbody rb;

    private void Start()
    {
        rb = GetComponent&lt;Rigidbody&gt;();
    }

    private void FixedUpdate()
    {
        // 1. ForceMode.Force - æŒç»­åŠ›
        if (Input.GetKey(KeyCode.F))
        {
            // æ·»åŠ åŠ›ï¼Œè€ƒè™‘è´¨é‡
            rb.AddForce(transform.forward * 100f, ForceMode.Force);
        }

        // 2. ForceMode.Impulse - å†²é‡
        if (Input.GetKeyDown(KeyCode.J))
        {
            // æ·»åŠ ç¬æ—¶åŠ›ï¼Œä¸è€ƒè™‘è´¨é‡
            rb.AddForce(transform.up * 500f, ForceMode.Impulse);
        }

        // 3. ForceMode.VelocityChange - é€Ÿåº¦æ”¹å˜
        if (Input.GetKeyDown(KeyCode.V))
        {
            // ç›´æ¥æ”¹å˜é€Ÿåº¦ï¼Œä¸è€ƒè™‘è´¨é‡
            rb.AddForce(transform.forward * 10f, ForceMode.VelocityChange);
        }

        // 4. ForceMode.Acceleration - åŠ é€Ÿåº¦
        if (Input.GetKey(KeyCode.A))
        {
            // æ·»åŠ åŠ é€Ÿåº¦ï¼Œä¸è€ƒè™‘è´¨é‡
            rb.AddForce(transform.up * 5f, ForceMode.Acceleration);
        }

        // ç›¸å¯¹åŠ›
        if (Input.GetKey(KeyCode.R))
        {
            // ç›¸å¯¹äºç‰©ä½“è‡ªèº«åæ ‡ç³»çš„åŠ›
            rb.AddRelativeForce(Vector3.forward * 50f, ForceMode.Force);
        }

        // æ‰­çŸ©
        if (Input.GetKey(KeyCode.Q))
        {
            rb.AddTorque(Vector3.up * 20f, ForceMode.Force);
        }

        // ç›¸å¯¹æ‰­çŸ©
        if (Input.GetKey(KeyCode.E))
        {
            rb.AddRelativeTorque(Vector3.right * 10f, ForceMode.Force);
        }
    }
}</code></pre>
                </section>

                <section id="colliders" class="article-section">
                    <h2>ç¢°æ’ä½“ï¼ˆColliderï¼‰ç³»ç»Ÿ</h2>
                    <h3>ç¢°æ’ä½“ç±»å‹</h3>
                    <pre><code class="language-csharp">public class ColliderManager : MonoBehaviour
{
    public enum ColliderType
    {
        Box,
        Sphere,
        Capsule,
        Mesh,
        Wheel
    }

    public ColliderType type = ColliderType.Box;

    private void Start()
    {
        SetupCollider();
    }

    private void SetupCollider()
    {
        // ç§»é™¤ç°æœ‰ç¢°æ’ä½“
        Collider[] existingColliders = GetComponents&lt;Collider&gt;();
        foreach (Collider collider in existingColliders)
        {
            Destroy(collider);
        }

        // æ·»åŠ æ–°çš„ç¢°æ’ä½“
        switch (type)
        {
            case ColliderType.Box:
                BoxCollider boxCollider = gameObject.AddComponent&lt;BoxCollider&gt;();
                boxCollider.size = Vector3.one;
                boxCollider.center = Vector3.zero;
                boxCollider.isTrigger = false;
                break;

            case ColliderType.Sphere:
                SphereCollider sphereCollider = gameObject.AddComponent&lt;SphereCollider&gt;();
                sphereCollider.radius = 0.5f;
                sphereCollider.center = Vector3.zero;
                sphereCollider.isTrigger = false;
                break;

            case ColliderType.Capsule:
                CapsuleCollider capsuleCollider = gameObject.AddComponent&lt;CapsuleCollider&gt;();
                capsuleCollider.radius = 0.5f;
                capsuleCollider.height = 2f;
                capsuleCollider.center = Vector3.zero;
                capsuleCollider.direction = 1; // Yè½´æ–¹å‘
                capsuleCollider.isTrigger = false;
                break;

            case ColliderType.Mesh:
                MeshCollider meshCollider = gameObject.AddComponent&lt;MeshCollider&gt;();
                MeshFilter meshFilter = GetComponent&lt;MeshFilter&gt;();
                if (meshFilter != null)
                {
                    meshCollider.sharedMesh = meshFilter.sharedMesh;
                }
                meshCollider.convex = false;
                meshCollider.isTrigger = false;
                break;

            case ColliderType.Wheel:
                WheelCollider wheelCollider = gameObject.AddComponent&lt;WheelCollider&gt;();
                wheelCollider.radius = 0.5f;
                wheelCollider.suspensionDistance = 0.2f;
                wheelCollider.center = Vector3.zero;
                break;
        }
    }
}</code></pre>

                    <h3>ç¢°æ’äº‹ä»¶å¤„ç†</h3>
                    <pre><code class="language-csharp">public class CollisionEvents : MonoBehaviour
{
    private Rigidbody rb;

    private void Start()
    {
        rb = GetComponent&lt;Rigidbody&gt;();
    }

    // ç¢°æ’å¼€å§‹
    private void OnCollisionEnter(Collision collision)
    {
        Debug.Log($"ç¢°æ’å¼€å§‹: {collision.gameObject.name}");
        Debug.Log($"ç¢°æ’ç‚¹: {collision.contacts[0].point}");
        Debug.Log($"ç¢°æ’æ³•çº¿: {collision.contacts[0].normal}");
        Debug.Log($"ç›¸å¯¹é€Ÿåº¦: {collision.relativeVelocity}");

        // æ ¹æ®ç¢°æ’åŠ›äº§ç”Ÿæ•ˆæœ
        if (collision.relativeVelocity.magnitude > 5f)
        {
            // åˆ›å»ºæ’å‡»ç‰¹æ•ˆ
            CreateImpactEffect(collision.contacts[0].point);
        }

        // æ’­æ”¾æ’å‡»éŸ³æ•ˆ
        if (collision.relativeVelocity.magnitude > 2f)
        {
            PlayImpactSound(collision.relativeVelocity.magnitude);
        }
    }

    // ç¢°æ’æŒç»­
    private void OnCollisionStay(Collision collision)
    {
        // å¯ä»¥åœ¨è¿™é‡Œå¤„ç†æŒç»­ç¢°æ’çš„æ•ˆæœ
        // æ¯”å¦‚ï¼šåœ¨åœ°é¢ä¸Šçš„æ‘©æ“¦åŠ›
        if (collision.gameObject.CompareTag("Ground"))
        {
            ApplyGroundFriction(collision);
        }
    }

    // ç¢°æ’ç»“æŸ
    private void OnCollisionExit(Collision collision)
    {
        Debug.Log($"ç¢°æ’ç»“æŸ: {collision.gameObject.name}");
    }

    // è§¦å‘å™¨äº‹ä»¶
    private void OnTriggerEnter(Collider other)
    {
        Debug.Log($"è¿›å…¥è§¦å‘å™¨: {other.name}");

        if (other.CompareTag("Pickup"))
        {
            CollectItem(other);
        }
    }

    private void OnTriggerStay(Collider other)
    {
        // æŒç»­åœ¨è§¦å‘å™¨å†…
    }

    private void OnTriggerExit(Collider other)
    {
        Debug.Log($"ç¦»å¼€è§¦å‘å™¨: {other.name}");
    }

    private void CreateImpactEffect(Vector3 position)
    {
        // åˆ›å»ºæ’å‡»ç‰¹æ•ˆ
        GameObject effect = GameObject.CreatePrimitive(PrimitiveType.Sphere);
        effect.transform.position = position;
        effect.transform.localScale = Vector3.one * 0.2f;
        Destroy(effect, 1f);
    }

    private void PlayImpactSound(float velocity)
    {
        // æ ¹æ®é€Ÿåº¦æ’­æ”¾ä¸åŒçš„æ’å‡»éŸ³æ•ˆ
        Debug.Log($"æ’­æ”¾æ’å‡»éŸ³æ•ˆï¼Œé€Ÿåº¦: {velocity}");
    }

    private void CollectItem(Collider item)
    {
        // æ”¶é›†ç‰©å“
        Destroy(item.gameObject);
    }

    private void ApplyGroundFriction(Collision collision)
    {
        // åº”ç”¨åœ°é¢æ‘©æ“¦åŠ›
        if (rb != null)
        {
            Vector3 frictionForce = -rb.velocity * 0.1f;
            rb.AddForce(frictionForce, ForceMode.Force);
        }
    }
}</code></pre>
                </section>

                <section id="physics-materials" class="article-section">
                    <h2>ç‰©ç†æè´¨ï¼ˆPhysics Materialï¼‰</h2>
                    <pre><code class="language-csharp">using UnityEngine;

// ç‰©ç†æè´¨ç®¡ç†å™¨
public class PhysicsMaterialManager : MonoBehaviour
{
    [Header("æè´¨å±æ€§")]
    public float dynamicFriction = 0.6f;
    public float staticFriction = 0.6f;
    public float bounciness = 0.3f;
    public PhysicMaterialCombine frictionCombine = PhysicMaterialCombine.Average;
    public PhysicMaterialCombine bounceCombine = PhysicMaterialCombine.Average;

    private void Start()
    {
        CreateAndApplyPhysicsMaterial();
    }

    private void CreateAndApplyPhysicsMaterial()
    {
        // åˆ›å»ºç‰©ç†æè´¨
        PhysicMaterial material = new PhysicMaterial();

        // è®¾ç½®æè´¨å±æ€§
        material.dynamicFriction = dynamicFriction;      // åŠ¨æ‘©æ“¦åŠ›
        material.staticFriction = staticFriction;        // é™æ‘©æ“¦åŠ›
        material.bounciness = bounciness;                // å¼¹æ€§ç³»æ•°
        material.frictionCombine = frictionCombine;      // æ‘©æ“¦åŠ›ç»„åˆæ–¹å¼
        material.bounceCombine = bounceCombine;          // å¼¹æ€§ç»„åˆæ–¹å¼

        // åº”ç”¨åˆ°ç¢°æ’ä½“
        Collider collider = GetComponent&lt;Collider&gt;();
        if (collider != null)
        {
            collider.material = material;
        }

        // ä¿å­˜æè´¨èµ„æº
        #if UNITY_EDITOR
        UnityEditor.AssetDatabase.CreateAsset(material, "Assets/Materials/CustomPhysicsMaterial.physicMaterial");
        #endif
    }
}

// ä¸åŒè¡¨é¢çš„ç‰©ç†æè´¨
public class SurfacePhysics : MonoBehaviour
{
    public enum SurfaceType
    {
        Ice,        // å†°é¢
        Rubber,     // æ©¡èƒ¶
        Metal,      // é‡‘å±
        Wood,       // æœ¨æ
        Grass       // è‰åœ°
    }

    public SurfaceType surfaceType;

    private PhysicMaterial GetMaterialForSurface(SurfaceType type)
    {
        PhysicMaterial material = new PhysicMaterial();

        switch (type)
        {
            case SurfaceType.Ice:
                material.dynamicFriction = 0.1f;
                material.staticFriction = 0.1f;
                material.bounciness = 0.2f;
                material.name = "Ice";
                break;

            case SurfaceType.Rubber:
                material.dynamicFriction = 0.8f;
                material.staticFriction = 0.9f;
                material.bounciness = 0.7f;
                material.name = "Rubber";
                break;

            case SurfaceType.Metal:
                material.dynamicFriction = 0.3f;
                material.staticFriction = 0.4f;
                material.bounciness = 0.5f;
                material.name = "Metal";
                break;

            case SurfaceType.Wood:
                material.dynamicFriction = 0.5f;
                material.staticFriction = 0.6f;
                material.bounciness = 0.3f;
                material.name = "Wood";
                break;

            case SurfaceType.Grass:
                material.dynamicFriction = 0.7f;
                material.staticFriction = 0.8f;
                material.bounciness = 0.1f;
                material.name = "Grass";
                break;
        }

        return material;
    }
}</code></pre>
                </section>

                <section id="joints" class="article-section">
                    <h2>å…³èŠ‚ç³»ç»Ÿï¼ˆJointsï¼‰</h2>
                    <h3>å›ºå®šå…³èŠ‚ï¼ˆFixed Jointï¼‰</h3>
                    <pre><code class="language-csharp">public class JointSystem : MonoBehaviour
{
    [Header("å…³èŠ‚è®¾ç½®")]
    public GameObject connectedObject;
    public float breakForce = Mathf.Infinity;
    public float breakTorque = Mathf.Infinity;

    private void Start()
    {
        SetupFixedJoint();
    }

    private void SetupFixedJoint()
    {
        if (connectedObject != null)
        {
            FixedJoint joint = gameObject.AddComponent&lt;FixedJoint&gt;();
            joint.connectedBody = connectedObject.GetComponent&lt;Rigidbody&gt;();
            joint.breakForce = breakForce;
            joint.breakTorque = breakTorque;
            joint.enableCollision = false;
            joint.enablePreprocessing = true;
        }
    }

    // å…³èŠ‚æ–­è£‚äº‹ä»¶
    private void OnJointBreak(float breakForce)
    {
        Debug.Log($"å…³èŠ‚æ–­è£‚ï¼Œæ–­è£‚åŠ›: {breakForce}");
        OnJointBroken();
    }

    private void OnJointBroken()
    {
        // å¤„ç†å…³èŠ‚æ–­è£‚åçš„é€»è¾‘
        // æ¯”å¦‚ï¼šæ’­æ”¾æ–­è£‚éŸ³æ•ˆã€åˆ›å»ºç²’å­æ•ˆæœç­‰
    }
}</code></pre>

                    <h3>å¼¹ç°§å…³èŠ‚ï¼ˆSpring Jointï¼‰</h3>
                    <pre><code class="language-csharp">public class SpringJointSystem : MonoBehaviour
{
    [Header("å¼¹ç°§è®¾ç½®")]
    public GameObject connectedObject;
    public float spring = 50f;
    public float damper = 5f;
    public float minDistance = 0.1f;
    public float maxDistance = 0.5f;
    public float tolerance = 0.025f;

    private void Start()
    {
        SetupSpringJoint();
    }

    private void SetupSpringJoint()
    {
        if (connectedObject != null)
        {
            SpringJoint joint = gameObject.AddComponent&lt;SpringJoint&gt;();
            joint.connectedBody = connectedObject.GetComponent&lt;Rigidbody&gt;();
            joint.spring = spring;
            joint.damper = damper;
            joint.minDistance = minDistance;
            joint.maxDistance = maxDistance;
            joint.tolerance = tolerance;
            joint.enableCollision = false;
        }
    }
}</code></pre>

                    <h3>é“°é“¾å…³èŠ‚ï¼ˆHinge Jointï¼‰</h3>
                    <pre><code class="language-csharp">public class HingeJointSystem : MonoBehaviour
{
    [Header("é“°é“¾è®¾ç½®")]
    public GameObject connectedObject;
    public Vector3 axis = Vector3.right;
    public bool useSpring = false;
    public float springValue = 50f;
    public float damperValue = 5f;
    public bool useMotor = false;
    public float motorForce = 100f;
    public float motorSpeed = 100f;
    public bool useLimits = false;
    public float minAngle = -45f;
    public float maxAngle = 45f;

    private void Start()
    {
        SetupHingeJoint();
    }

    private void SetupHingeJoint()
    {
        if (connectedObject != null)
        {
            HingeJoint joint = gameObject.AddComponent&lt;HingeJoint&gt;();
            joint.connectedBody = connectedObject.GetComponent&lt;Rigidbody&gt;();
            joint.axis = axis;

            // å¼¹ç°§è®¾ç½®
            if (useSpring)
            {
                JointSpring spring = new JointSpring();
                spring.spring = springValue;
                spring.damper = damperValue;
                spring.targetPosition = 0f;
                joint.spring = spring;
                joint.useSpring = true;
            }

            // ç”µæœºè®¾ç½®
            if (useMotor)
            {
                JointMotor motor = new JointMotor();
                motor.force = motorForce;
                motor.targetVelocity = motorSpeed;
                motor.freeSpin = false;
                joint.motor = motor;
                joint.useMotor = true;
            }

            // é™åˆ¶è®¾ç½®
            if (useLimits)
            {
                JointLimits limits = new JointLimits();
                limits.min = minAngle;
                limits.max = maxAngle;
                limits.bounciness = 0f;
                limits.bounceMinVelocity = 0f;
                limits.contactDistance = 0f;
                joint.limits = limits;
                joint.useLimits = true;
            }
        }
    }
}</code></pre>
                </section>

                <section id="optimization" class="article-section">
                    <h2>ç‰©ç†æ€§èƒ½ä¼˜åŒ–</h2>
                    <h3>1. ç¢°æ’ä¼˜åŒ–</h3>
                    <pre><code class="language-csharp">public class PhysicsOptimizer : MonoBehaviour
{
    [Header("ä¼˜åŒ–è®¾ç½®")]
    public LayerMask collisionLayers;
    public float optimizationInterval = 0.5f;
    public int maxCollisionPairs = 100;

    private float nextOptimizationTime;

    private void Start()
    {
        ConfigurePhysicsSettings();
    }

    private void ConfigurePhysicsSettings()
    {
        // è®¾ç½®ç‰©ç†æ—¶é—´æ­¥é•¿
        Time.fixedDeltaTime = 0.02f; // 50 FPS

        // è®¾ç½®æœ€å¤§è¿­ä»£æ¬¡æ•°
        Physics.defaultSolverIterations = 6;
        Physics.defaultSolverVelocityIterations = 1;

        // è®¾ç½®é‡åŠ›
        Physics.gravity = new Vector3(0, -9.81f, 0);

        // è®¾ç½®ç¡çœ é˜ˆå€¼
        Physics.sleepThreshold = 0.005f;
        Physics.defaultContactOffset = 0.01f;
    }

    private void Update()
    {
        if (Time.time >= nextOptimizationTime)
        {
            OptimizePhysics();
            nextOptimizationTime = Time.time + optimizationInterval;
        }
    }

    private void OptimizePhysics()
    {
        // ä¼˜åŒ–ç¢°æ’çŸ©é˜µ
        OptimizeCollisionMatrix();

        // ä¼‘çœ ä¸æ´»åŠ¨çš„ç‰©ä½“
        SleepInactiveObjects();

        // æ¸…ç†æ— æ•ˆçš„ç¢°æ’å¯¹
        CleanInvalidCollisions();
    }

    private void OptimizeCollisionMatrix()
    {
        // è®¾ç½®å“ªäº›å±‚çº§ä¹‹é—´è¿›è¡Œç¢°æ’æ£€æµ‹
        Physics.IgnoreLayerCollision(0, 8, false);  // Defaultä¸Playerå±‚
        Physics.IgnoreLayerCollision(8, 9, true);   // Playerä¸Enemyå±‚
        Physics.IgnoreLayerCollision(9, 10, false); // Enemyä¸Bulletå±‚
    }

    private void SleepInactiveObjects()
    {
        // å¯»æ‰¾ä¸æ´»åŠ¨çš„ç‰©ä½“å¹¶è®©å…¶ä¼‘çœ 
        Rigidbody[] allRigidbodies = FindObjectsOfType&lt;Rigidbody&gt;();

        foreach (Rigidbody rb in allRigidbodies)
        {
            if (rb.IsSleeping())
            {
                // ç‰©ä½“å·²ç»åœ¨ä¼‘çœ çŠ¶æ€
                continue;
            }

            // æ£€æŸ¥ç‰©ä½“æ˜¯å¦åº”è¯¥ä¼‘çœ 
            if (ShouldSleep(rb))
            {
                rb.Sleep();
            }
        }
    }

    private bool ShouldSleep(Rigidbody rb)
    {
        // é€Ÿåº¦å¾ˆå°çš„ç‰©ä½“åº”è¯¥ä¼‘çœ 
        if (rb.velocity.magnitude < 0.1f && rb.angularVelocity.magnitude < 0.1f)
        {
            return true;
        }
        return false;
    }

    private void CleanInvalidCollisions()
    {
        // æ¸…ç†æ— æ•ˆçš„ç¢°æ’å¯¹ï¼ˆéœ€è¦åœ¨å®é™…é¡¹ç›®ä¸­å®ç°ï¼‰
        // è¿™é‡Œåªæ˜¯ç¤ºä¾‹æ¡†æ¶
    }
}</code></pre>

                    <h3>2. ç‰©ç†é¢„ç®—ç®¡ç†</h3>
                    <pre><code class="language-csharp">public class PhysicsBudgetManager : MonoBehaviour
{
    [Header("ç‰©ç†é¢„ç®—è®¾ç½®")]
    public float maxPhysicsTimePerFrame = 0.003f; // 3ms
    public int maxRigidbodyCount = 500;
    public int maxColliderCount = 1000;

    private float physicsTimeThisFrame;

    private void FixedUpdate()
    {
        float startTime = Time.realtimeSinceStartup;

        // æ‰§è¡Œç‰©ç†è®¡ç®—
        PerformPhysicsCalculations();

        physicsTimeThisFrame = Time.realtimeSinceStartup - startTime;

        // å¦‚æœè¶…å‡ºé¢„ç®—ï¼Œé™ä½ç‰©ç†è´¨é‡
        if (physicsTimeThisFrame > maxPhysicsTimePerFrame)
        {
            ReducePhysicsQuality();
        }
    }

    private void PerformPhysicsCalculations()
    {
        // åœ¨è¿™é‡Œæ‰§è¡Œè‡ªå®šä¹‰çš„ç‰©ç†è®¡ç®—
        // ç¡®ä¿ä¸ä¼šè¶…å‡ºæ—¶é—´é¢„ç®—
    }

    private void ReducePhysicsQuality()
    {
        // é™ä½ç‰©ç†è´¨é‡çš„æ–¹æ³•
        Physics.defaultSolverIterations = Mathf.Max(3, Physics.defaultSolverIterations - 1);

        // å‡å°‘ä¸é‡è¦çš„ç‰©ä½“çš„ç‰©ç†æ›´æ–°é¢‘ç‡
        ReduceNonCriticalPhysicsUpdates();
    }

    private void ReduceNonCriticalPhysicsUpdates()
    {
        // æ‰¾åˆ°éå…³é”®çš„ç‰©ç†å¯¹è±¡å¹¶é™ä½å…¶æ›´æ–°é¢‘ç‡
        Rigidbody[] rigidbodies = FindObjectsOfType&lt;Rigidbody&gt;();

        foreach (Rigidbody rb in rigidbodies)
        {
            if (IsNonCriticalObject(rb))
            {
                // é™ä½æ’å€¼è´¨é‡
                if (rb.interpolation == RigidbodyInterpolation.Interpolate)
                {
                    rb.interpolation = RigidbodyInterpolation.None;
                }
            }
        }
    }

    private bool IsNonCriticalObject(Rigidbody rb)
    {
        // åˆ¤æ–­æ˜¯å¦ä¸ºéå…³é”®å¯¹è±¡
        // æ¯”å¦‚ï¼šè¿œå¤„çš„ç‰©ä½“ã€è£…é¥°æ€§ç‰©ä½“ç­‰
        return rb.CompareTag("Decoration") || rb.CompareTag("Environment");
    }
}</code></pre>
                </section>

                <section id="applications" class="article-section">
                    <h2>å®é™…åº”ç”¨æ¡ˆä¾‹</h2>
                    <h3>1. è½¦è¾†ç‰©ç†ç³»ç»Ÿ</h3>
                    <pre><code class="language-csharp">public class VehiclePhysics : MonoBehaviour
{
    [Header("è½¦è¾†è®¾ç½®")]
    public float maxSpeed = 20f;
    public float acceleration = 10f;
    public float brakeForce = 50f;
    public float turnSpeed = 100f;
    public float maxSteerAngle = 30f;

    [Header("è½¦è½®è®¾ç½®")]
    public WheelCollider frontLeftWheel;
    public WheelCollider frontRightWheel;
    public WheelCollider rearLeftWheel;
    public WheelCollider rearRightWheel;

    [Header("è§†è§‰è½¦è½®")]
    public Transform frontLeftWheelTransform;
    public Transform frontRightWheelTransform;
    public Transform rearLeftWheelTransform;
    public Transform rearRightWheelTransform;

    private float motorInput;
    private float steerInput;

    private void Start()
    {
        SetupWheels();
    }

    private void SetupWheels()
    {
        WheelCollider[] wheels = { frontLeftWheel, frontRightWheel, rearLeftWheel, rearRightWheel };

        foreach (WheelCollider wheel in wheels)
        {
            wheel.suspensionDistance = 0.2f;
            JointSpring suspension = wheel.suspensionSpring;
            suspension.spring = 35000f;
            suspension.damper = 4500f;
            suspension.targetPosition = 0.5f;
            wheel.suspensionSpring = suspension;

            wheel.radius = 0.3f;
            wheel.mass = 20f;
            wheel.wheelDampingRate = 0.25f;
        }
    }

    private void Update()
    {
        GetInput();
        UpdateWheelPositions();
    }

    private void FixedUpdate()
    {
        HandleMotor();
        HandleSteering();
    }

    private void GetInput()
    {
        motorInput = Input.GetAxis("Vertical");
        steerInput = Input.GetAxis("Horizontal");
    }

    private void HandleMotor()
    {
        // å‰è½®é©±åŠ¨
        frontLeftWheel.motorTorque = motorInput * acceleration;
        frontRightWheel.motorTorque = motorInput * acceleration;

        // åˆ¹è½¦
        if (Input.GetKey(KeyCode.Space))
        {
            frontLeftWheel.brakeTorque = brakeForce;
            frontRightWheel.brakeTorque = brakeForce;
            rearLeftWheel.brakeTorque = brakeForce;
            rearRightWheel.brakeTorque = brakeForce;
        }
        else
        {
            frontLeftWheel.brakeTorque = 0f;
            frontRightWheel.brakeTorque = 0f;
            rearLeftWheel.brakeTorque = 0f;
            rearRightWheel.brakeTorque = 0f;
        }
    }

    private void HandleSteering()
    {
        float steerAngle = steerInput * maxSteerAngle;
        frontLeftWheel.steerAngle = steerAngle;
        frontRightWheel.steerAngle = steerAngle;
    }

    private void UpdateWheelPositions()
    {
        UpdateWheelPosition(frontLeftWheel, frontLeftWheelTransform);
        UpdateWheelPosition(frontRightWheel, frontRightWheelTransform);
        UpdateWheelPosition(rearLeftWheel, rearLeftWheelTransform);
        UpdateWheelPosition(rearRightWheel, rearRightWheelTransform);
    }

    private void UpdateWheelPosition(WheelCollider wheel, Transform wheelTransform)
    {
        Vector3 position;
        Quaternion rotation;
        wheel.GetWorldPose(out position, out rotation);

        wheelTransform.position = position;
        wheelTransform.rotation = rotation;
    }
}</code></pre>

                    <h3>2. è§’è‰²æ§åˆ¶å™¨</h3>
                    <pre><code class="language-csharp">public class CharacterController : MonoBehaviour
{
    [Header("ç§»åŠ¨è®¾ç½®")]
    public float moveSpeed = 5f;
    public float jumpForce = 10f;
    public float groundCheckDistance = 0.1f;
    public float slopeLimit = 45f;

    [Header("ç‰©ç†è®¾ç½®")]
    public LayerMask groundLayers;
    public float airControl = 0.3f;

    private Rigidbody rb;
    private bool isGrounded;
    private Vector3 moveDirection;
    private float slopeAngle;

    private void Start()
    {
        rb = GetComponent&lt;Rigidbody&gt;();
        SetupRigidbody();
    }

    private void SetupRigidbody()
    {
        rb.interpolation = RigidbodyInterpolation.Interpolate;
        rb.collisionDetectionMode = CollisionDetectionMode.ContinuousDynamic;
        rb.freezeRotation = true;
    }

    private void Update()
    {
        HandleInput();
        CheckGrounded();
    }

    private void FixedUpdate()
    {
        HandleMovement();
    }

    private void HandleInput()
    {
        float horizontal = Input.GetAxis("Horizontal");
        float vertical = Input.GetAxis("Vertical");

        moveDirection = new Vector3(horizontal, 0f, vertical).normalized;
        moveDirection = transform.TransformDirection(moveDirection);

        if (Input.GetButtonDown("Jump") && isGrounded)
        {
            Jump();
        }
    }

    private void CheckGrounded()
    {
        RaycastHit hit;
        Vector3 rayStart = transform.position + Vector3.up * 0.1f;

        if (Physics.Raycast(rayStart, Vector3.down, out hit, groundCheckDistance, groundLayers))
        {
            isGrounded = true;

            // è®¡ç®—å¡åº¦
            slopeAngle = Vector3.Angle(hit.normal, Vector3.up);
        }
        else
        {
            isGrounded = false;
            slopeAngle = 0f;
        }
    }

    private void HandleMovement()
    {
        if (isGrounded)
        {
            // åœ°é¢ç§»åŠ¨
            if (slopeAngle <= slopeLimit)
            {
                Vector3 targetVelocity = moveDirection * moveSpeed;
                Vector3 velocity = rb.velocity;
                Vector3 velocityChange = targetVelocity - velocity;
                velocityChange.y = 0f;

                rb.AddForce(velocityChange, ForceMode.VelocityChange);
            }
        }
        else
        {
            // ç©ºä¸­æ§åˆ¶
            Vector3 airMove = moveDirection * moveSpeed * airControl;
            rb.AddForce(airMove, ForceMode.Acceleration);
        }
    }

    private void Jump()
    {
        rb.AddForce(Vector3.up * jumpForce, ForceMode.Impulse);
    }

    private void OnDrawGizmos()
    {
        // ç»˜åˆ¶åœ°é¢æ£€æµ‹å°„çº¿
        Gizmos.color = isGrounded ? Color.green : Color.red;
        Gizmos.DrawRay(transform.position + Vector3.up * 0.1f, Vector3.down * groundCheckDistance);
    }
}</code></pre>
                </section>

                <section id="debugging" class="article-section">
                    <h2>ç‰©ç†è°ƒè¯•å’Œç›‘æ§</h2>
                    <h3>1. ç‰©ç†è°ƒè¯•å·¥å…·</h3>
                    <pre><code class="language-csharp">public class PhysicsDebugger : MonoBehaviour
{
    [Header("è°ƒè¯•è®¾ç½®")]
    public bool showVelocity = true;
    public bool showForces = true;
    public bool showCollisions = true;
    public bool showRaycasts = true;
    public float arrowScale = 0.1f;

    private Dictionary&lt;Rigidbody, Vector3&gt; lastPositions = new Dictionary&lt;Rigidbody, Vector3&gt;();

    private void Update()
    {
        UpdateDebugInfo();
    }

    private void UpdateDebugInfo()
    {
        Rigidbody[] rigidbodies = FindObjectsOfType&lt;Rigidbody&gt;();

        foreach (Rigidbody rb in rigidbodies)
        {
            if (showVelocity)
            {
                DrawVelocityArrow(rb);
            }

            if (showForces)
            {
                DrawForceIndicators(rb);
            }
        }
    }

    private void DrawVelocityArrow(Rigidbody rb)
    {
        if (rb.velocity.magnitude > 0.01f)
        {
            Debug.DrawRay(rb.position, rb.velocity * arrowScale, Color.blue);
        }
    }

    private void DrawForceIndicators(Rigidbody rb)
    {
        // æ˜¾ç¤ºå½“å‰ä½œç”¨åŠ›
        // æ³¨æ„ï¼šUnityä¸ç›´æ¥æä¾›è·å–å½“å‰ä½œç”¨åŠ›çš„æ–¹æ³•
        // è¿™é‡Œåªæ˜¯ç¤ºä¾‹
        Debug.DrawRay(rb.position, Vector3.up * rb.mass * Physics.gravity.magnitude * arrowScale, Color.red);
    }

    // ç¢°æ’å¯è§†åŒ–
    private void OnCollisionEnter(Collision collision)
    {
        if (showCollisions)
        {
            foreach (ContactPoint contact in collision.contacts)
            {
                Debug.DrawRay(contact.point, contact.normal * 0.5f, Color.yellow, 2f);
                Debug.Log($"ç¢°æ’: {contact.thisCollider.name} -> {contact.otherCollider.name}");
            }
        }
    }

    // ç‰©ç†æ€§èƒ½ç›‘æ§
    private void OnGUI()
    {
        GUILayout.BeginArea(new Rect(10, 10, 300, 200));
        GUILayout.Label("ç‰©ç†ç³»ç»Ÿç›‘æ§");
        GUILayout.Label($"ç‰©ç†æ—¶é—´: {physicsTimeThisFrame * 1000f:F2}ms");
        GUILayout.Label($"åˆšä½“æ•°é‡: {FindObjectsOfType&lt;Rigidbody&gt;().Length}");
        GUILayout.Label($"ç¢°æ’ä½“æ•°é‡: {FindObjectsOfType&lt;Collider&gt;().Length}");
        GUILayout.Label($"ç‰©ç†è¿­ä»£: {Physics.defaultSolverIterations}");
        GUILayout.EndArea();
    }

    private float physicsTimeThisFrame;

    private void FixedUpdate()
    {
        physicsTimeThisFrame = Time.fixedDeltaTime;
    }
}</code></pre>
                </section>

                <section id="best-practices" class="article-section">
                    <h2>æœ€ä½³å®è·µå’Œå¸¸è§é—®é¢˜</h2>
                    <h3>æœ€ä½³å®è·µ</h3>
                    <ul>
                        <li><strong>ä½¿ç”¨FixedUpdate</strong>ï¼šæ‰€æœ‰ç‰©ç†è®¡ç®—åº”åœ¨FixedUpdateä¸­è¿›è¡Œ</li>
                        <li><strong>é¿å…ç›´æ¥ä¿®æ”¹Transform</strong>ï¼šä½¿ç”¨AddForceè€Œä¸æ˜¯ç›´æ¥æ”¹å˜ä½ç½®</li>
                        <li><strong>åˆç†è®¾ç½®è´¨é‡</strong>ï¼šè´¨é‡æ¯”ä¾‹æ¯”ç»å¯¹å€¼æ›´é‡è¦</li>
                        <li><strong>ä½¿ç”¨å±‚çº§è¿‡æ»¤</strong>ï¼šå‡å°‘ä¸å¿…è¦çš„ç¢°æ’æ£€æµ‹</li>
                        <li><strong>æ³¨æ„æ’å€¼è®¾ç½®</strong>ï¼šå¯¹äºç§»åŠ¨ç‰©ä½“ä½¿ç”¨æ’å€¼</li>
                    </ul>

                    <h3>å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h3>
                    <h4>é—®é¢˜1ï¼šç‰©ä½“é‡å ç©¿é€</h4>
                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <ul>
                        <li>ä½¿ç”¨Continuousç¢°æ’æ£€æµ‹æ¨¡å¼</li>
                        <li>å¢åŠ æ—¶é—´æ­¥é•¿ç²¾åº¦</li>
                        <li>åˆç†è®¾ç½®ç¢°æ’ä½“å¤§å°</li>
                    </ul>

                    <h4>é—®é¢˜2ï¼šç‰©ç†æŠ–åŠ¨</h4>
                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <ul>
                        <li>è°ƒæ•´é˜»å°¼å€¼</li>
                        <li>ä½¿ç”¨æ’å€¼</li>
                        <li>æ£€æŸ¥çº¦æŸè®¾ç½®</li>
                    </ul>

                    <h4>é—®é¢˜3ï¼šæ€§èƒ½é—®é¢˜</h4>
                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <ul>
                        <li>ç®€åŒ–ç¢°æ’ä½“</li>
                        <li>ä½¿ç”¨ç‰©ç†é¢„ç®—</li>
                        <li>ä¼˜åŒ–ç¢°æ’çŸ©é˜µ</li>
                    </ul>
                </section>

                <section id="conclusion" class="article-section">
                    <h2>æ€»ç»“</h2>
                    <p>Unityç‰©ç†å¼•æ“æ˜¯ä¸€ä¸ªå¼ºå¤§è€Œå¤æ‚çš„ç³»ç»Ÿï¼ŒæŒæ¡å…¶åŸç†å’Œæœ€ä½³å®è·µå¯¹äºåˆ›å»ºçœŸå®ã€æµç•…çš„æ¸¸æˆä½“éªŒè‡³å…³é‡è¦ã€‚</p>
                    <p>å…³é”®è¦ç‚¹ï¼š</p>
                    <ul>
                        <li>ç†è§£ç‰©ç†æ›´æ–°å¾ªç¯å’Œç»„ä»¶ç³»ç»Ÿ</li>
                        <li>åˆç†ä½¿ç”¨åˆšä½“ã€ç¢°æ’ä½“å’Œç‰©ç†æè´¨</li>
                        <li>æŒæ¡å„ç§åŠ›çš„ç±»å‹å’Œåº”ç”¨</li>
                        <li>æ³¨é‡æ€§èƒ½ä¼˜åŒ–å’Œè°ƒè¯•</li>
                        <li>ç»“åˆå®é™…åº”ç”¨åœºæ™¯é€‰æ‹©åˆé€‚çš„ç‰©ç†æ–¹æ¡ˆ</li>
                    </ul>

                    <div class="highlight-box">
                        <h4>ğŸ¯ æ ¸å¿ƒè¦ç‚¹</h4>
                        <p>é€šè¿‡æ·±å…¥å­¦ä¹ å’Œå®è·µï¼Œä½ å°†èƒ½å¤Ÿå……åˆ†åˆ©ç”¨Unityç‰©ç†å¼•æ“ï¼Œåˆ›é€ å‡ºä»¤äººæƒŠå¹çš„ç‰©ç†æ•ˆæœå’Œæ¸¸æˆä½“éªŒã€‚è®°ä½ï¼Œç‰©ç†ç³»ç»Ÿçš„æ€§èƒ½ä¼˜åŒ–æ˜¯å¼€å‘é«˜è´¨é‡æ¸¸æˆçš„å…³é”®ã€‚</p>
                    </div>
                </section>
            </article>

            <div class="article-navigation">
                <a href="../index.html#articles" class="nav-link">â† è¿”å›æ–‡ç« åˆ—è¡¨</a>
            </div>
        </div>

        <aside class="article-sidebar">
            <div class="toc-container">
                <h3 class="toc-title">ğŸ“‹ ç›®å½•</h3>
                <nav class="toc-list">
                    <ul>
                        <li><a href="#introduction">å¼•è¨€</a></li>
                        <li><a href="#physics-basics">ç‰©ç†å¼•æ“åŸºç¡€</a></li>
                        <li><a href="#rigidbody">åˆšä½“è¯¦è§£</a></li>
                        <li><a href="#colliders">ç¢°æ’ä½“ç³»ç»Ÿ</a></li>
                        <li><a href="#physics-materials">ç‰©ç†æè´¨</a></li>
                        <li><a href="#joints">å…³èŠ‚ç³»ç»Ÿ</a></li>
                        <li><a href="#optimization">æ€§èƒ½ä¼˜åŒ–</a></li>
                        <li><a href="#applications">å®é™…åº”ç”¨æ¡ˆä¾‹</a></li>
                        <li><a href="#debugging">è°ƒè¯•å’Œç›‘æ§</a></li>
                        <li><a href="#best-practices">æœ€ä½³å®è·µ</a></li>
                        <li><a href="#conclusion">æ€»ç»“</a></li>
                    </ul>
                </nav>
            </div>
        </aside>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Tech Blog</h3>
                    <p>åˆ†äº«æŠ€æœ¯ï¼Œä¼ æ’­çŸ¥è¯†</p>
                </div>
                <div class="footer-section">
                    <h4>å¿«é€Ÿé“¾æ¥</h4>
                    <ul class="footer-links">
                        <li><a href="../index.html#home">é¦–é¡µ</a></li>
                        <li><a href="../index.html#works">ä½œå“</a></li>
                        <li><a href="../index.html#articles">æ–‡ç« </a></li>
                        <li><a href="../index.html#about">å…³äº</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>æŠ€æœ¯æ ˆ</h4>
                    <ul class="footer-links">
                        <li><a href="#">Unity</a></li>
                        <li><a href="#">C#</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Tech Blog. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="../script.js"></script>
    <script>
        // Smooth scrolling for TOC links
        document.querySelectorAll('.toc-list a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Highlight active section in TOC
        const sections = document.querySelectorAll('.article-section');
        const tocLinks = document.querySelectorAll('.toc-list a');

        const observerOptions = {
            root: null,
            rootMargin: '-20% 0px -70% 0px',
            threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    tocLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${id}`) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, observerOptions);

        sections.forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>